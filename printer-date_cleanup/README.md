# Klipper Configuration Backup Cleaner

This project provides a simple bash script (`move_backups.sh`) designed to automatically manage and organize the `printer-*.cfg` backup files generated by Mainsail (or other Klipper interfaces) within your Klipper configuration directory.

## Table of Contents

1.  [Purpose](#1-purpose)
2.  [Features](#2-features)
3.  [Setup Guide](#3-setup-guide)
    * [1. Create the Scripts Directory](#1-create-the-scripts-directory)
    * [2. Create the Script File](#2-create-the-script-file)
    * [3. Make the Script Executable](#3-make-the-script-executable)
    * [4. Configure Cron for Automated Execution](#4-configure-cron-for-automated-execution)
    * [5. (Optional) Create Backup Directory Manually](#5-optional-create-backup-directory-manually)
4.  [Script Configuration](#4-script-configuration)
5.  [How it Works](#5-how-it-works)
    * [Backup Location](#backup-location)
    * [Backup Logic](#backup-logic)
    * [Schedule](#schedule)

---

## 1. Purpose

Mainsail (and other Klipper interfaces) automatically create dated backup files (e.g., `printer-20250715_123456.cfg`) whenever you save changes to your `printer.cfg`. Over time, these can accumulate and clutter your main Klipper configuration directory. This script provides an automated solution to keep this directory tidy by moving older backups to a dedicated archive folder.

## 2. Features

* **Automated Cleanup:** Moves old `printer-*.cfg` backup files.
* **Intelligent Retention:** Keeps a configurable number of your most recent backup files in the main config directory for easy access.
* **Dedicated Archive:** Relocates older backups to a specified subdirectory.
* **Scheduled Execution:** Configured to run automatically every time your Raspberry Pi (or Klipper host machine) starts up.

## 3. Setup Guide

Follow these steps to set up the backup cleanup script on your Klipper host:

### 1. Create the Scripts Directory

First, create a dedicated directory for your custom scripts within your `printer_data` folder if it doesn't already exist:

```bash
mkdir -p ~/printer_data/scripts
